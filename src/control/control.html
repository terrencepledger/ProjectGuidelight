<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Guidelight Control</title>
  <link rel="stylesheet" href="control.css">
</head>
<body>
  <div class="update-banner" id="updateBanner">
    <span class="update-message" id="updateMessage">A new version is available!</span>
    <div class="update-progress" id="updateProgress">
      <div class="update-progress-bar" id="updateProgressBar"></div>
    </div>
    <button class="update-btn" id="updateBtn">Update Now</button>
    <button class="update-btn" id="restartBtn" style="display:none;">Restart Now</button>
    <button class="update-dismiss" id="updateDismiss">√ó</button>
  </div>
  <div class="app-container">
    <nav class="sidebar">
      <ul class="nav-list">
        <li>
          <button class="nav-btn active" data-mode="images">Media Library</button>
        </li>
        <li>
          <button class="nav-btn" data-mode="slideshow">Slideshow</button>
        </li>
        <li>
          <button class="nav-btn" data-mode="scripture">Scripture</button>
        </li>
        <li>
          <button class="nav-btn" data-mode="quick-slides">Quick Slides</button>
        </li>
        <li>
          <button class="nav-btn" data-mode="settings">Settings</button>
        </li>
      </ul>
      <div class="sidebar-footer">
        <button class="standby-btn" id="standbyBtn">STANDBY</button>
        <div class="version-info" id="versionInfo">v0.0.0</div>
      </div>
    </nav>
    
    <main class="main-content">
      <div class="content-area">
        <section class="mode-panel active" data-panel="images">
          <h2>Media Library</h2>
          <div class="library-controls">
            <button class="btn" id="addFolderBtn">Add Folder</button>
            <button class="btn" id="addFilesBtn">Add Files</button>
            <div class="import-status" id="importStatus">
              <div class="import-spinner"></div>
              <span id="importStatusText">Importing...</span>
            </div>
            <div class="filter-toggles">
              <button class="filter-btn active" data-filter="all">All</button>
              <button class="filter-btn" data-filter="image">Images</button>
              <button class="filter-btn" data-filter="video">Videos</button>
              <button class="filter-btn" data-filter="audio">Audio</button>
              <button class="filter-btn" data-filter="quick-slide">Slides</button>
            </div>
          </div>
          <div class="thumbnail-grid" id="imageGrid">
          </div>
        </section>

        <section class="mode-panel" data-panel="slideshow">
          <h2>Slideshow</h2>
          
          <div class="preset-controls">
            <select id="presetSelect" class="select-input preset-select">
              <option value="">-- New Slideshow --</option>
            </select>
            <button class="btn btn-small" id="renamePresetBtn" title="Rename" disabled>‚úèÔ∏è</button>
            <button class="btn btn-small btn-danger" id="deletePresetBtn" title="Delete" disabled>üóëÔ∏è</button>
            <button class="btn btn-primary" id="savePresetBtn">Save</button>
          </div>

          <div class="slideshow-queue-section">
            <div class="section-header">
              <span>Slideshow Media</span>
              <button class="btn btn-small" id="addToSlideshowBtn">Pick Media</button>
            </div>
            <div class="slideshow-queue" id="slideshowQueue">
              <div class="empty-queue">
                <p>No media in slideshow</p>
                <p class="hint">Pick media from your library</p>
              </div>
            </div>
          </div>

          <div class="slideshow-settings">
            <div class="setting-row">
              <label>Interval</label>
              <div class="interval-control">
                <button class="btn btn-small" id="intervalDown">‚àí</button>
                <input type="number" id="intervalInput" value="7" min="1" max="60">
                <button class="btn btn-small" id="intervalUp">+</button>
                <span class="setting-hint">seconds</span>
              </div>
            </div>
            <div class="setting-row">
              <label>Loop</label>
              <input type="checkbox" id="loopCheckbox" checked>
            </div>
            <div class="setting-row">
              <label>Transition</label>
              <select id="transitionSelect" class="select-input select-small">
                <option value="none">None</option>
                <option value="fade" selected>Fade</option>
                <option value="slide">Slide</option>
              </select>
            </div>
          </div>

          <div class="slideshow-start">
            <button class="btn btn-primary btn-large" id="queueSlideshowBtn" disabled>Queue Slideshow</button>
          </div>
        </section>
        
        <section class="mode-panel" data-panel="scripture">
          <h2>Scripture</h2>
          
          <div class="scripture-lists">
            <div class="scripture-list-section">
              <div class="section-header">
                <span>üìå Pinned</span>
              </div>
              <div class="scripture-list" id="pinnedScripturesList">
                <div class="empty-list">No pinned scriptures</div>
              </div>
            </div>
            
            <div class="scripture-list-section">
              <div class="section-header">
                <span>üïê Recent</span>
                <button class="btn btn-small btn-text" id="clearRecentsBtn" title="Clear all recent lookups">Clear All</button>
              </div>
              <div class="scripture-list" id="recentScripturesList">
                <div class="empty-list">No recent lookups</div>
              </div>
            </div>
          </div>
          
          <div class="scripture-lookup">
            <div class="scripture-version-row">
              <label>Version:</label>
              <select id="bibleVersionSelect" class="select-input select-small">
                <option value="de4e12af7f28f599-02">KJV</option>
                <option value="06125adad2d5898a-01">ASV</option>
                <option value="9879dbb7cfe39e4d-04">WEB</option>
                <option value="592420522e16049f-01">RVR09 (Spanish)</option>
              </select>
              <label class="compare-toggle">
                <input type="checkbox" id="compareModeCheckbox">
                <span>Compare Mode</span>
              </label>
            </div>
            
            <div class="scripture-version-row compare-row" id="compareVersionRow">
              <label>Version 2:</label>
              <select id="bibleVersion2Select" class="select-input select-small">
                <option value="de4e12af7f28f599-02">KJV</option>
                <option value="06125adad2d5898a-01">ASV</option>
                <option value="9879dbb7cfe39e4d-04">WEB</option>
                <option value="592420522e16049f-01">RVR09 (Spanish)</option>
              </select>
            </div>
            
            <div class="scripture-input-section">
              <div class="section-label">Text Input:</div>
              <div class="scripture-text-input-row">
                <input type="text" id="scriptureTextInput" class="scripture-text-input" placeholder="e.g., John 3:16">
                <button class="btn" id="lookupTextBtn">Lookup</button>
              </div>
              <div class="scripture-parse-preview" id="parsePreview"></div>
            </div>
            
            <div class="scripture-input-section">
              <div class="section-label">- OR - Manual Select:</div>
              <div class="scripture-manual-row">
                <select id="bookSelect" class="select-input select-small">
                  <option value="">Book...</option>
                </select>
                <select id="chapterSelect" class="select-input select-small" disabled>
                  <option value="">Ch...</option>
                </select>
                <select id="verseSelect" class="select-input select-small" disabled>
                  <option value="">Vs...</option>
                </select>
                <button class="btn" id="lookupManualBtn" disabled>Lookup</button>
              </div>
            </div>
            
            <div class="scripture-pin-row">
              <button class="btn btn-small" id="pinCurrentBtn" disabled>üìå Pin Current</button>
            </div>
          </div>
        </section>
        
        <section class="mode-panel" data-panel="quick-slides">
          <h2>Quick Slides</h2>
          <div class="quick-slides-container">
            <div class="qs-form">
              <div class="qs-row">
                <label>Type</label>
                <div class="qs-preset-buttons">
                  <button class="qs-preset-btn active" data-preset="announcement">Announcement</button>
                  <button class="qs-preset-btn" data-preset="welcome">Welcome</button>
                  <button class="qs-preset-btn" data-preset="prayer">Prayer Request</button>
                  <button class="qs-preset-btn" data-preset="lyrics">Song Lyrics</button>
                  <button class="qs-preset-btn" data-preset="countdown">Countdown</button>
                  <button class="qs-preset-btn" data-preset="custom">Custom</button>
                </div>
              </div>
              <div class="qs-row" id="qsNameRow">
                <label for="qsDisplayName">Name</label>
                <input type="text" id="qsDisplayName" class="text-input" placeholder="Optional display name...">
              </div>
              <div class="qs-row" id="qsTitleRow">
                <label for="qsTitle">Title</label>
                <input type="text" id="qsTitle" class="text-input" placeholder="Enter title...">
              </div>
              <div class="qs-row" id="qsBodyRow">
                <label for="qsBody">Content</label>
                <textarea id="qsBody" class="text-input qs-body-input" placeholder="Enter content..." rows="4"></textarea>
              </div>
              <div class="qs-row qs-elements-row" id="qsElementsRow" style="display: none;">
                <label>Elements</label>
                <div class="qs-elements-container">
                  <div class="qs-elements-actions">
                    <button class="btn btn-small" id="qsAddTitleBtn">+ Title</button>
                    <button class="btn btn-small" id="qsAddBodyBtn">+ Body</button>
                    <button class="btn btn-small" id="qsAddCountdownBtn">+ Countdown</button>
                  </div>
                  <div class="qs-elements-list" id="qsElementsList"></div>
                  <div class="qs-elements-hint" id="qsElementsHint">Add elements or leave empty for background-only slide</div>
                </div>
              </div>
              <div class="qs-row" id="qsCountdownLabelRow" style="display: none;">
                <label for="qsCountdownLabel">Label</label>
                <input type="text" id="qsCountdownLabel" class="text-input" placeholder="e.g. Service begins in...">
              </div>
              <div class="qs-row" id="qsCountdownDurationRow" style="display: none;">
                <label>Duration</label>
                <div class="qs-duration-inputs">
                  <input type="number" id="qsCountdownMin" class="qs-duration-input" min="0" max="120" value="5">
                  <span class="qs-duration-label">min</span>
                  <input type="number" id="qsCountdownSec" class="qs-duration-input" min="0" max="59" value="0">
                  <span class="qs-duration-label">sec</span>
                </div>
              </div>
              <div class="qs-row qs-countdown-pos-row" id="qsLabelPosRow" style="display: none;">
                <label>Label Pos</label>
                <div class="qs-countdown-pos-controls">
                  <select id="qsLabelVAlign" class="qs-pos-select">
                    <option value="top">Top</option>
                    <option value="center" selected>Center</option>
                    <option value="bottom">Bottom</option>
                  </select>
                  <select id="qsLabelHAlign" class="qs-pos-select">
                    <option value="left">Left</option>
                    <option value="center" selected>Center</option>
                    <option value="right">Right</option>
                  </select>
                  <select id="qsLabelWidth" class="qs-pos-select">
                    <option value="wide" selected>Wide</option>
                    <option value="medium">Med</option>
                    <option value="narrow">Narrow</option>
                  </select>
                  <button class="qs-nudge-btn" id="qsLabelNudgeLeft">‚Üê</button>
                  <button class="qs-nudge-btn" id="qsLabelNudgeRight">‚Üí</button>
                  <button class="qs-nudge-btn" id="qsLabelNudgeUp">‚Üë</button>
                  <button class="qs-nudge-btn" id="qsLabelNudgeDown">‚Üì</button>
                  <span class="qs-nudge-indicator" id="qsLabelNudgeIndicator"></span>
                </div>
              </div>
              <div class="qs-row qs-countdown-pos-row" id="qsTimerPosRow" style="display: none;">
                <label>Timer Pos</label>
                <div class="qs-countdown-pos-controls">
                  <select id="qsTimerVAlign" class="qs-pos-select">
                    <option value="top">Top</option>
                    <option value="center" selected>Center</option>
                    <option value="bottom">Bottom</option>
                  </select>
                  <select id="qsTimerHAlign" class="qs-pos-select">
                    <option value="left">Left</option>
                    <option value="center" selected>Center</option>
                    <option value="right">Right</option>
                  </select>
                  <select id="qsTimerWidth" class="qs-pos-select">
                    <option value="wide" selected>Wide</option>
                    <option value="medium">Med</option>
                    <option value="narrow">Narrow</option>
                  </select>
                  <button class="qs-nudge-btn" id="qsTimerNudgeLeft">‚Üê</button>
                  <button class="qs-nudge-btn" id="qsTimerNudgeRight">‚Üí</button>
                  <button class="qs-nudge-btn" id="qsTimerNudgeUp">‚Üë</button>
                  <button class="qs-nudge-btn" id="qsTimerNudgeDown">‚Üì</button>
                  <span class="qs-nudge-indicator" id="qsTimerNudgeIndicator"></span>
                </div>
              </div>
              <div class="qs-row qs-style-row">
                <div class="qs-style-item">
                  <label for="qsFontFamily">Font</label>
                  <select id="qsFontFamily" class="select-input">
                    <option value="Georgia">Georgia</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Arial">Arial</option>
                    <option value="Verdana">Verdana</option>
                  </select>
                </div>
                <div class="qs-style-item">
                  <label for="qsTitleFontSize">Title Size</label>
                  <select id="qsTitleFontSize" class="select-input">
                    <option value="36">36px</option>
                    <option value="48">48px</option>
                    <option value="60" selected>60px</option>
                    <option value="72">72px</option>
                    <option value="84">84px</option>
                    <option value="96">96px</option>
                    <option value="108">108px</option>
                    <option value="120">120px</option>
                    <option value="144">144px</option>
                    <option value="168">168px</option>
                    <option value="180">180px</option>
                  </select>
                </div>
                <div class="qs-style-item">
                  <label for="qsFontSize">Body Size</label>
                  <select id="qsFontSize" class="select-input">
                    <option value="36">36px</option>
                    <option value="48" selected>48px</option>
                    <option value="60">60px</option>
                    <option value="72">72px</option>
                    <option value="84">84px</option>
                    <option value="96">96px</option>
                    <option value="108">108px</option>
                    <option value="120">120px</option>
                  </select>
                </div>
                <div class="qs-style-item">
                  <label for="qsFontColor">Color</label>
                  <input type="color" id="qsFontColor" value="#FFFFFF">
                </div>
              </div>
              <div class="qs-row qs-bg-row">
                <label>Background</label>
                <div class="qs-bg-controls">
                  <div class="qs-bg-toggle">
                    <button class="qs-bg-btn active" data-bg-type="color">Color</button>
                    <button class="qs-bg-btn" data-bg-type="image">Image</button>
                  </div>
                  <div class="qs-bg-color-group" id="qsBgColorGroup">
                    <input type="color" id="qsBgColor" value="#000000">
                  </div>
                  <div class="qs-bg-image-group" id="qsBgImageGroup" style="display: none;">
                    <select id="qsBgImageSelect" class="select-input">
                      <option value="">-- Select --</option>
                    </select>
                    <button class="btn btn-small" id="qsBgBrowseBtn">Browse...</button>
                    <span class="qs-custom-bg-label" id="qsCustomBgLabel"></span>
                  </div>
                </div>
              </div>
              <div class="qs-row qs-dim-row">
                <label for="qsBackgroundDim">Background Dim <span id="qsDimValue">0%</span></label>
                <input type="range" id="qsBackgroundDim" min="0" max="50" value="0">
              </div>
              <div class="qs-row qs-preview-row">
                <label>Preview</label>
                <div class="qs-preview-area" id="qsPreviewArea">
                  <div class="qs-preview-title" id="qsPreviewTitle"></div>
                  <div class="qs-preview-body" id="qsPreviewBody"></div>
                  <div class="qs-preview-custom" id="qsPreviewCustom"></div>
                </div>
              </div>
              <div class="qs-actions">
                <button class="btn btn-large" id="qsStageBtn">Stage</button>
                <button class="btn btn-large btn-primary" id="qsSaveBtn">Save Slide</button>
              </div>
            </div>
          </div>
        </section>
        
        <section class="mode-panel" data-panel="settings">
          <h2>Settings</h2>
          <div class="settings-group">
            <label for="presentationMonitor">Presentation Monitor</label>
            <select id="presentationMonitor" class="select-input">
            </select>
          </div>
          <div class="settings-group">
            <label for="scalingMode">Media Scaling</label>
            <select id="scalingMode" class="select-input">
              <option value="fit">Fit (letterbox)</option>
              <option value="fill">Fill (crop)</option>
              <option value="stretch">Stretch (distort)</option>
            </select>
          </div>
          <div class="settings-group">
            <label for="standbyImagePath">Standby Image</label>
            <div class="file-input-group">
              <input type="text" id="standbyImagePath" readonly placeholder="Using default">
              <button class="btn" id="pickStandbyImage">Browse</button>
              <button class="btn btn-secondary" id="clearStandbyImage" title="Reset to default">Clear</button>
            </div>
          </div>
          
          <h3 class="settings-section-title">Scripture API</h3>
          <div class="settings-group">
            <label for="bibleApiKey">API Key</label>
            <input type="password" id="bibleApiKey" class="text-input" placeholder="Enter your API.Bible key...">
            <p class="settings-hint">Get a free key at <a href="https://scripture.api.bible/signup" id="apiSignupLink">scripture.api.bible/signup</a></p>
          </div>
          
          <h3 class="settings-section-title">Scripture Display</h3>
          <div class="settings-group">
            <label for="scriptureFontFamily">Font</label>
            <select id="scriptureFontFamily" class="select-input">
              <option value="Georgia">Georgia (Serif)</option>
              <option value="Times New Roman">Times New Roman (Serif)</option>
              <option value="Arial">Arial (Sans-serif)</option>
              <option value="Verdana">Verdana (Sans-serif)</option>
              <option value="Roboto">Roboto (Sans-serif)</option>
            </select>
          </div>
          <div class="settings-group">
            <label for="scriptureFontSize">Font Size: <span id="fontSizeValue">48</span>px</label>
            <input type="range" id="scriptureFontSize" class="slider-input" min="24" max="96" value="48">
          </div>
          <div class="settings-group">
            <label for="scriptureFontColor">Text Color</label>
            <div class="color-input-group">
              <input type="color" id="scriptureFontColor" value="#FFFFFF">
              <span class="color-preview" id="fontColorPreview">#FFFFFF</span>
            </div>
          </div>
          <div class="settings-group">
            <label>Background Type</label>
            <div class="background-type-toggle">
              <button class="bg-type-btn active" data-type="color">Solid Color</button>
              <button class="bg-type-btn" data-type="image">Image</button>
            </div>
          </div>
          <div class="settings-group bg-color-group">
            <label for="scriptureBackground">Background Color</label>
            <div class="color-input-group">
              <input type="color" id="scriptureBackground" value="#000000">
              <span class="color-preview" id="bgColorPreview">#000000</span>
            </div>
          </div>
          <div class="settings-group bg-image-group" style="display: none;">
            <label for="scriptureBackgroundSelect">Background Image</label>
            <select id="scriptureBackgroundSelect" class="select-input">
              <option value="">-- Select --</option>
            </select>
            <div class="custom-bg-row" id="customBgRow" style="display: none;">
              <input type="text" id="scriptureBackgroundImagePath" readonly placeholder="Select an image...">
              <button class="btn btn-small" id="pickScriptureBackground">Browse</button>
            </div>
          </div>
          
          <h3 class="settings-section-title">Storage</h3>
          <div class="settings-group">
            <label>Media Library Storage</label>
            <div class="storage-display" id="storageDisplay">Calculating...</div>
          </div>
        </section>
      </div>
      
      <div class="display-area">
        <div class="display-pane preview-pane">
          <div class="display-label">
            Preview
            <button class="clear-preview-btn" id="clearPreviewBtn" title="Clear preview">√ó</button>
          </div>
          <div class="display-content" id="previewContent">
            <span class="display-placeholder">Select content to preview</span>
          </div>
          <div class="display-media-name" id="previewMediaName"></div>
          <div class="pane-transport staged-transport">
            <div class="slideshow-banner staged-banner" id="stagedSlideshowBanner">
              <span class="banner-indicator"></span>
              <span>Staged</span>
              <span class="banner-progress" id="stagedProgressText">0 / 0</span>
            </div>
            <div class="transport-buttons" id="stagedTransportControls">
              <button class="btn transport-btn" id="stagedPrevBtn" title="Previous">‚èÆÔ∏è</button>
              <button class="btn transport-btn" id="stagedPauseBtn" title="Pause/Play">‚è∏Ô∏è</button>
              <button class="btn transport-btn" id="stagedNextBtn" title="Next">‚è≠Ô∏è</button>
            </div>
          </div>
          <div class="pane-transport video-transport" id="previewVideoTransport">
            <div class="video-scrubber">
              <span class="video-time" id="previewVideoTime">0:00</span>
              <input type="range" class="video-slider" id="previewVideoSlider" min="0" max="100" value="0">
              <span class="video-duration" id="previewVideoDuration">0:00</span>
            </div>
            <div class="transport-buttons">
              <button class="btn transport-btn" id="previewVideoPlayBtn" title="Play/Pause">‚ñ∂Ô∏è</button>
            </div>
          </div>
          <div class="pane-transport audio-transport" id="previewAudioTransport">
            <div class="audio-scrubber">
              <span class="audio-time" id="previewAudioTime">0:00</span>
              <input type="range" class="audio-slider" id="previewAudioSlider" min="0" max="100" value="0">
              <span class="audio-duration" id="previewAudioDuration">0:00</span>
            </div>
            <div class="transport-buttons">
              <button class="btn transport-btn" id="previewAudioPlayBtn" title="Play/Pause">‚ñ∂Ô∏è</button>
            </div>
          </div>
          <div class="pane-transport scripture-transport" id="previewScriptureTransport">
            <div class="transport-buttons">
              <button class="btn transport-btn" id="previewScripturePrevBtn" title="Previous Verse">‚Üê Prev</button>
              <button class="btn transport-btn" id="previewScriptureNextBtn" title="Next Verse">Next ‚Üí</button>
              <label class="arrow-keys-checkbox"><input type="checkbox" id="previewScriptureArrowKeys"> Arrow keys</label>
            </div>
          </div>
        </div>
        
        <div class="display-controls">
          <button class="go-live-btn" id="goLiveBtn" disabled>Push Live ‚Üí</button>
        </div>
        
        <div class="display-pane live-pane">
          <div class="display-label" id="livePaneLabel">Live</div>
          <div class="display-content" id="liveContent">
            <span class="display-placeholder">Standby</span>
          </div>
          <div class="display-media-name" id="liveMediaName"></div>
          <div class="pane-transport live-transport">
            <div class="slideshow-banner live-banner" id="liveSlideshowBanner">
              <span class="banner-indicator"></span>
              <span>Live</span>
              <span class="banner-progress" id="liveProgressText">0 / 0</span>
            </div>
            <div class="transport-buttons" id="liveTransportControls">
              <button class="btn transport-btn" id="livePrevBtn" title="Previous">‚èÆÔ∏è</button>
              <button class="btn transport-btn" id="livePauseBtn" title="Pause">‚è∏Ô∏è</button>
              <button class="btn transport-btn" id="liveNextBtn" title="Next">‚è≠Ô∏è</button>
              <button class="btn transport-btn btn-danger" id="liveStopBtn" title="Stop">‚èπÔ∏è</button>
            </div>
          </div>
          <div class="pane-transport video-transport" id="liveVideoTransport">
            <div class="video-scrubber">
              <span class="video-time" id="liveVideoTime">0:00</span>
              <input type="range" class="video-slider" id="liveVideoSlider" min="0" max="100" value="0">
              <span class="video-duration" id="liveVideoDuration">0:00</span>
            </div>
            <div class="transport-buttons">
              <button class="btn transport-btn" id="liveVideoPlayBtn" title="Play/Pause">‚è∏Ô∏è</button>
              <button class="btn transport-btn" id="liveVideoRestartBtn" title="Restart">‚èÆÔ∏è</button>
              <button class="btn transport-btn btn-danger" id="liveVideoStopBtn" title="Stop">‚èπÔ∏è</button>
            </div>
          </div>
          <div class="pane-transport audio-transport" id="liveAudioTransport">
            <div class="audio-scrubber">
              <span class="audio-time" id="liveAudioTime">0:00</span>
              <input type="range" class="audio-slider" id="liveAudioSlider" min="0" max="100" value="0">
              <span class="audio-duration" id="liveAudioDuration">0:00</span>
            </div>
            <div class="transport-buttons">
              <button class="btn transport-btn" id="liveAudioPlayBtn" title="Play/Pause">‚è∏Ô∏è</button>
              <button class="btn transport-btn" id="liveAudioRestartBtn" title="Restart">‚èÆÔ∏è</button>
              <button class="btn transport-btn btn-danger" id="liveAudioStopBtn" title="Stop">‚èπÔ∏è</button>
            </div>
          </div>
          <div class="pane-transport scripture-transport" id="liveScriptureTransport">
            <div class="transport-buttons">
              <button class="btn transport-btn" id="liveScripturePrevBtn" title="Previous Verse">‚Üê Prev</button>
              <button class="btn transport-btn" id="liveScriptureNextBtn" title="Next Verse">Next ‚Üí</button>
              <label class="arrow-keys-checkbox"><input type="checkbox" id="liveScriptureArrowKeys"> Arrow keys</label>
            </div>
          </div>
        </div>
        
        <div class="blackout-overlay" id="blackoutOverlay">
          <div class="blackout-content">
            <div class="blackout-icon">üñ•Ô∏è</div>
            <div class="blackout-title">PRESENTATION HIDDEN</div>
            <div class="blackout-subtitle">The presentation display is not visible</div>
            <button class="blackout-restore-btn" id="blackoutRestoreBtn">SHOW PRESENTATION</button>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <div class="modal-overlay" id="libraryModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Pick Media for Slideshow</h3>
        <button class="modal-close" id="closeModalBtn">√ó</button>
      </div>
      <div class="modal-body">
        <div class="modal-grid" id="modalImageGrid"></div>
        <p class="modal-hint" id="modalEmptyHint">
          Need more media? <a href="#" id="goToLibraryLink">Go to Media Library</a>
        </p>
      </div>
      <div class="modal-footer">
        <span id="modalSelectionCount">0 selected</span>
        <button class="btn btn-small" id="selectAllModalBtn">Select All</button>
        <button class="btn btn-small" id="deselectAllModalBtn">Deselect All</button>
        <button class="btn" id="cancelModalBtn">Cancel</button>
        <button class="btn btn-primary" id="confirmModalBtn">Add Selected</button>
      </div>
    </div>
  </div>
  
  <div class="context-menu" id="brokenItemMenu">
    <button class="context-menu-item" id="relocateItem">Relocate File...</button>
    <button class="context-menu-item context-menu-danger" id="removeItem">Remove from Library</button>
  </div>

  <script src="control.js"></script>
</body>
</html>
